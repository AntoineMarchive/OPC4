<template>
    <template if:true={isAdmin}>
        <p>Bienvenue, Administrateur Système ! Vous avez accès aux fonctionnalités avancées.</p>
    </template>

    <template if:true={showError}>
        <div class="slds-box slds-theme_error slds-m-bottom_medium">
            <p class="slds-text-heading_small">⚠️ Erreur de stock</p>
            <p>Vous avez au moins un produit dont la quantité dépasse le stock disponible.</p>
            <p>Veuillez ajuster la quantité ou contacter l'administrateur.</p>
        </div>
    </template>

    <template lwc:if={hasproducts}>
        <lightning-datatable
            key-field="Id"
            data={products}
            columns={columns}
            onrowaction={handleRowAction}>
        </lightning-datatable>
    </template>
    <template lwc:else>
        <div class="slds-box slds-theme_info slds-m-top_medium">
            <p class="slds-text-heading_small">Opportunité produits</p>
            <p>Vous n’avez aucune ligne de produits pour le moment.</p>
            <p>1. Veuillez tout d’abord sélectionner un Catalogue (Pricebook).</p>
            <p>2. Sélectionnez ensuite les produits à ajouter.</p>
        </div>
    </template>
</template>

<!-- Rôle :

Définit la structure d'affichage des données
Utilise un <lightning-datatable> pour afficher les produits sous forme de tableau  
Utilise des conditions if:true={isAdmin}, if:true={isCommercial}, etc. -->