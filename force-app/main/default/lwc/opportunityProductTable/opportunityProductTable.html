<template>
    <template if:true={isAdmin}>
        <p>Bienvenue, Administrateur Système ! Vous avez accès aux fonctionnalités avancées.</p>
    </template>

    <template lwc:if={hasproducts}>
        <lightning-datatable
            key-field="Id"
            data={products}
            columns="[
                { label: 'Product Name', fieldName: 'PricebookEntry.Product2.Name', type: 'text' },
                { label: 'Quantity', fieldName: 'Quantity', type: 'number' },
                { label: 'Unit Price', fieldName: 'PricebookEntry.UnitPrice', type: 'currency' },
                { label: 'Total Price', fieldName: 'TotalPrice', type: 'currency' }
            ]">
        </lightning-datatable>
    </template>
    <template lwc:else>
        <div class="slds-box slds-theme_info slds-m-top_medium">
            <p class="slds-text-heading_small">Opportunité produits</p>
            <p>Vous n’avez aucune ligne de produits pour le moment.</p>
            <p>1. Veuillez tout d’abord sélectionner un Catalogue (Pricebook).</p>
            <p>2. Sélectionnez ensuite les produits à ajouter.</p>
        </div>
    </template>
</template>

<!-- Rôle :

Définit la structure d'affichage des données
Utilise un <lightning-datatable> pour afficher les produits sous forme de tableau  
Utilise des conditions if:true={isAdmin}, if:true={isCommercial}, etc. -->